const nameForm=document.getElementById("nameForm");nameForm&&nameForm.addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("nameInput").value;window.location.href=`welcome.html?name=${encodeURIComponent(t)}`}));const welcomeMsg=document.getElementById("welcomeMsg");if(welcomeMsg){const e=new URLSearchParams(window.location.search).get("name");e&&(welcomeMsg.textContent=`Welcome, ${e}! ðŸŽ‰`)}document.querySelectorAll(".music").forEach((e=>{const t=e.querySelector("audio"),n=e.querySelector(".play-btn"),i=e.querySelector(".pause-btn");t&&n&&i&&(n.addEventListener("click",(()=>{document.querySelectorAll("audio").forEach((e=>{e!==t&&e.pause()})),t.play()})),i.addEventListener("click",(()=>{t.pause()})))}));const audio=document.getElementById("loreen-audio"),lyricsContainer=document.getElementById("loreen-lyrics"),lyricLines=lyricsContainer.querySelectorAll("p[data-time]");let firstVisible=!1;function updateLyrics(){const e=audio.currentTime;if(e<14)return lyricsContainer.style.display="none",lyricLines.forEach((e=>e.classList.remove("active"))),void(firstVisible=!1);lyricsContainer.style.display="block",firstVisible||(lyricLines.forEach(((t,n)=>{const i=parseFloat(t.getAttribute("data-time")),a=n+1<lyricLines.length?parseFloat(lyricLines[n+1].getAttribute("data-time")):1/0;e>=i&&e<a?t.classList.add("active"):t.classList.remove("active")})),firstVisible=!0)}lyricsContainer.style.display="none",audio.addEventListener("play",(()=>{lyricsContainer.style.display="block"})),audio.addEventListener("pause",(()=>{!audio.ended&&audio.paused&&(lyricsContainer.style.display="none")})),audio.addEventListener("ended",(()=>{lyricsContainer.style.display="none",lyricLines.forEach((e=>e.classList.remove("active"))),firstVisible=!1})),audio.addEventListener("timeupdate",updateLyrics),window.addEventListener("load",(()=>{(audio.paused||audio.ended)&&(lyricsContainer.style.display="none")}));const anyoneAudio=document.getElementById("anyone-audio"),anyoneLyrics=document.getElementById("anyone-lyrics"),lines=anyoneLyrics.querySelectorAll("p[data-time]");anyoneAudio.addEventListener("timeupdate",(()=>{const e=anyoneAudio.currentTime;lines.forEach(((t,n)=>{const i=parseFloat(t.getAttribute("data-time")),a=n+1<lines.length?parseFloat(lines[n+1].getAttribute("data-time")):1/0;e>=i&&e<a?t.classList.add("active"):t.classList.remove("active")}))}));active")}))}));